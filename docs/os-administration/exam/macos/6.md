# Программы-брандмауэры для операционной системы Apple macOS

## Сведения о брандмауэре для приложений

!!! info
    В состав ОС OS X входит брандмауэр для приложений, с помощью которого можно контролировать подключения к вашему компьютеру с других компьютеров в сет

С помощью брандмауэра для приложений в `OS X 10.5.1` и более поздних версий можно управлять подключениями на уровне приложений (а не портов). Это повышает эффективность защиты с помощью брандмауэра, а
также помогает закрыть нежелательным приложениям доступ к сети через порты, которые используют разрешенные приложения.

## Настройка брандмауэра для приложений в OS X 10.6 и более поздних версий

Чтобы включить брандмауэр для приложений, выполните приведенные ниже действия

1. Выберите в меню Apple пункт `Системные настройки`
2. Щелкните значок `Безопасность` или `Конфиденциальность и безопасность`
3. Перейдите на вкладку `Брандмауэр`
4. Щелкните значок замка в левом нижнем углу и введите имя и пароль администратора, чтобы разблокировать панель
5. Нажмите кнопку `Включить брандмауэр` или `Запустить`, чтобы включить брандмауэр
6. Нажмите кнопку `Дополнительно`, чтобы настроить параметры брандмауэра

## Настройка брандмауэра для приложений в Mac OS X 10.5

Убедитесь, что `Mac OS X` обновлена до версии `10.5.1` или более поздней. Затем выполните приведенные ниже действия, чтобы включить брандмауэр для приложений

1. Выберите в меню Apple пункт `Системные настройки`
2. Щелкните значок `Безопасность`
3. Перейдите на вкладку `Брандмауэр`
4. Выберите режим работы брандмауэра

## Дополнительные параметры

### Блокировать все входящие подключения

Выбрав параметр `Блокировать все входящие подключения`, вы заблокируете прием входящих подключений всеми службами общего доступа, такими как `Общий доступ к файлам` и `Общий экран`. Системные службы
по-прежнему смогут принимать следующие входящие подключения:

- `configd` для реализации `DHCP` и других служб для настройки сети
- `mDNSResponder` для реализации `Bonjour`
- `racoon` для реализации `IPSec`

Чтобы использовать службы общего доступа, отключите параметр `Блокировать все входящие подключения`

### Разрешения для отдельных приложений

Чтобы разрешить определенному приложению принимать входящие подключения, добавьте его в меню `Параметры брандмауэра`

1. Откройте программу `Системные настройки`
2. Щелкните значок `Безопасность` или `Конфиденциальность и безопасность`
3. Перейдите на вкладку `Брандмауэр`
4. На панели настроек щелкните значок замка, затем введите имя и пароль администратора
5. Нажмите кнопку `Параметры брандмауэра`
6. Нажмите кнопку добавления приложения `+`
7. Выберите приложение, для которого вы хотите разрешить прием входящих подключений
8. Нажмите кнопку `Добавить`
9. Нажмите кнопку `ОК`

Вы также можете запретить прием входящих подключений для любого приложения из этого списка, нажав кнопку удаления приложения `–`

### Автоматически разрешать подписанному ПО входящие подключения

Приложения, подписанные надежным центром сертификации, автоматически добавляются в список разрешенных, не требуя подтверждения от пользователя. Приложения, входящие в состав `OS X`, подписаны
компанией Apple. Они могут принимать входящие подключения, если этот параметр включен. Например, приложению `iTunes` по умолчанию разрешено принимать входящие подключения через брандмауэр, поскольку
оно уже подписано компанией Apple

При запуске приложения, у которого нет цифровой подписи и которое не включено в список брандмауэра, открывается диалоговое окно, где для него можно разрешить или запретить подключения. Если нажать
кнопку `Разрешить`, OS X подпишет приложение и автоматически добавит его в список брандмауэра. Если нажать кнопку `Отказать`, `OS X` добавит это приложение в список, но будет отклонять для него
входящие подключения

Чтобы заблокировать входящие подключения для приложения с цифровой подписью, необходимо добавить его в список, а затем настроить для него блокировку

Некоторые приложения, в которых не используется цифровая подпись для кода, при запуске выполняют самопроверку. Если брандмауэр распознает такое приложение, он его не подписывает. Вместо этого при
каждом последующем запуске приложения будет отображаться диалоговое окно с запросом на разрешение или отклонение входящих подключений. Эта проблема устраняется путем обновления приложения до версии,
подписанной разработчиком

### Включение невидимого режима

Если включить невидимый режим, компьютер не будет отвечать на проверочные запросы. Но он по-прежнему будет отвечать на запросы от авторизованных приложений. Неожиданные запросы, например ICMP (ping),
игнорируются

### Ограничения брандмауэра

Брандмауэр для приложений работает с самыми распространенными в приложениях интернет-протоколами — `TCP` и `UDP`. Настройки брандмауэра не влияют на подключения `AppleTalk`. В брандмауэре можно
настроить блокировку входящих `ICMP-запросов` (`ping`), включив в дополнительных параметрах невидимый режим. Предыдущая технология ipfw по-прежнему доступна из командной строки (в
приложении `Терминал`), а правила ipfw имеют более высокий приоритет по сравнению с правилами брандмауэра для приложений. Все входящие пакеты, заблокированные `ipfw`, не обрабатываются брандмауэром
для приложений
